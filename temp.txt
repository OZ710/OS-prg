  START 1000
1000 STL RETADR
1003 JSUB RDREC
1006 LDA LENGTH
1009 COMP ZERO
100c JEQ ENDFIL
100f JSUB WRREC
1012 J CLOOP
1015 LDA EOF
1018 STA BUFFER	
101b LDA THREE
101e STA LENGTH
1021 JSUB WRREC
1024 LDL RETADR
1027 RSUB -
102a BYTE C'EOF'
102d WORD 3
1030 WORD 0
1033 RESW 1
1036 RESW 1
1039 RESB 4096
2039 LDX ZERO
203c LDA ZERO
203f TD INPUT
2042 JEQ RLOOP
2045 RD INPUT
2048 COMP ZERO
204b JEQ EXIT
204e STCH BUFFER,X
2051 TIX MAXLEN
2054 JLT RLOOP
2057 STX LENGTH	
205a RSUB -
205d BYTE X'F1'
205e WORD 4096
2061 LDX ZERO
2064 TD OUTPUT
2067 JEQ WLOOP
206a LDCH BUFFER
206d WD OUTPUT
2070 TIX LENGTH
2073 JLT WLOOP
2076 RSUB -
2079 BYTE X'05'
207a END -